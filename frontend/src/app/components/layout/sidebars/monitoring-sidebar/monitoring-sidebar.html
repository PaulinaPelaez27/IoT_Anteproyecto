@if (isAdmin) {
  <app-company-switcher />
}

  <!-- Content -->
  <div class="flex-1 overflow-y-auto p-4">

    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
        Proyectos
      </h2>

      <ui-button size="small" (clicked)="createProject()">
        + Nuevo
      </ui-button>
    </div>

    <!-- Loading -->
    @if (loading()) {
      <p class="text-sm text-gray-400 dark:text-gray-500 text-center mt-6">
        Cargando proyectos...
      </p>
    }

    <!-- Projects -->
    @if (!loading() && projects().length) {
      <div class="space-y-2">
        @for (project of projects(); track project.id) {
          <div
            (click)="selectProject(project.id)"
            class="block p-3 rounded-lg cursor-pointer transition-colors"
            [class.bg-white]="project.id === selectedProyectoId()"
            [class.dark:bg-gray-800]="project.id === selectedProyectoId()"
            [class.border-l-4]="project.id === selectedProyectoId()"
            [class.border-primary]="project.id === selectedProyectoId()"
            [class.hover:bg-white]="project.id !== selectedProyectoId()"
            [class.dark:hover:bg-gray-800]="project.id !== selectedProyectoId()"
          >
            <h3 class="font-medium text-gray-900 dark:text-gray-100">
              {{ project.nombre }}
            </h3>

            @if (project.descripcion) {
              <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                {{ project.descripcion }}
              </p>
            }
          </div>
        }
      </div>
    }

    <!-- Empty -->
    @if (!loading() && !projects().length) {
      <p class="text-sm text-gray-400 dark:text-gray-500 text-center mt-6">
        No hay proyectos disponibles
      </p>
    }

  </div>